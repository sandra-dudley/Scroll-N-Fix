!function(a,b){"function"==typeof define&&define.amd?define([],b(a)):"object"==typeof exports?module.exports=b(a):a.scrollnfix=b(a)}("undefined"!=typeof global?global:this.window||this.global,function(a){"use strict";var b,c,d,e,f={},g=!!document.querySelector&&!!a.addEventListener,h=navigator.userAgent||navigator.vendor||window.opera,i={},j=function(){var a={},b=!1,c=0,d=arguments.length;"[object Boolean]"===Object.prototype.toString.call(arguments[0])&&(b=arguments[0],c++);for(var e=function(c){for(var d in c)Object.prototype.hasOwnProperty.call(c,d)&&(b&&"[object Object]"===Object.prototype.toString.call(c[d])?a[d]=j(!0,a[d],c[d]):a[d]=c[d])};c<d;c++){var f=arguments[c];e(f)}return a},k=function(a){for(var b=[],c=document.getElementsByTagName("*"),d=0,e=c.length;d<e;d++)null!==c[d].getAttribute(a)&&b.push(c[d]);return b},l=function(a,b){return window.pageYOffset-a.offsetTop-b.offsetTop},m=function(){d=k("data-fix");for(var a=0;a<d.length;a++){var b=d[a];e===!1&&(l(c,b)>0&&"fixed"!=b.style.backgroundAttachment?b.style.backgroundAttachment="fixed":l(c,b)<0&&"scroll"!=b.style.backgroundAttachment&&(b.style.backgroundAttachment="scroll"))}};return f.init=function(a){console.log("initialisation"),g&&(b=j(i,a||{}),e=/iPad|iPhone|iPod/.test(h)&&!window.MSStream,d=k("data-fix"),c=d[0].parentNode,c.style.position="relative",window.addEventListener("scroll",m,!1))},f});